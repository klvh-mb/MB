<body style="margin:0; background-color:#F4FBFF;">
	        
     <link rel="stylesheet" href="../assets/app/custom-css/friendsCSS.css">
	<header>
			<div data-ng-include style="width: 100%;height: 50px;" data-src="'/assets/app/views/headerBar.html'"></div>
	</header>
	
	<div class="container-fluid menu-hidden">
		<div id="content">
			<div class="innerAll" >
				<div class="row">
					<div class="col-lg-2 col-md-3">
					<div class="row tm">
						<div class="" style="padding: 0px 40px;background-image: url(/assets/app/images/background.jpg);background-repeat:no-repeat;background-size: cover;">
							<div class="widget-body text-center">
								<a> 
									<img src="/community-image-by-id/{{community.i}}" width="120" alt="" class="img-circle">
								</a>
              				</div>
              			</div>
              			</div>
              			<div class="row tm">
              			<div class="bar-shadow-border" style="width: 100%;">
						<div class="widget" style="width: 100%;float: left">
							<div class="widget-head border-bottom bg-gray">
								<h5 class="pull-left margin-none innerAll">
									Description
								</h5>
							</div>
							<div class="widget-body margin-none">
								<div class="innerAll">
									{{community.d}}
								</div>
							</div>
						</div>
					</div>		
						</div>
						
						<div class="row tm" data-ng-show="community.isO">
							<div class="input-group-btn">
								<input type="text" class="form-control" data-ng-keyup="search_unjoined_users(community.i, searchQuery)" placeholder="+ Invite Users" data-ng-model="searchQuery">
							</div>
							
							<div class="row">
								<ul class="col-lg-12 col-md-11 col-sd-11 dropdown-menu chat media-list hide" ng-class="{show : nonMembers.length > 0 && searchQuery.length > 0}" style="overflow-y: scroll; max-height: 345px;">
									<li class="media" ng-repeat="sr in nonMembers" ng-switch="sr.tp" style="margin-top: 2% !important;">
								        <!-- shows user section -->
								        <a class="pull-left" href="#/profile/{{sr.id}}">
								        	<img class="media-object thumb" data-ng-src="/get-mini-image-by-id/{{sr.id}}"  alt="50x50" width="50"/>
								        </a>
								        
										<div class="media-body">
								            <h5 class="media-heading">{{sr.nm}} <i data-ng-click="send_invite_to_join(community.i, sr.id)" class="fa fa-plus-square pull-right"></i></h5>
								        </div>
									</li>
								</ul>
							</div>
						</div>
					</div>
       	    		 <div class="col-lg-8 col-md-6 innerAll">
       	    		 	<div class="row tm">
       	    		 	<div  class="row strong" style="margin-left: 7px;">	
							<h2 class="margin-none" style="float : left; margin-left: 5px;">{{community.n}}</h2>
							<div ng-show="community.isO" class="pull-right" style="float: left;">
								<div class="pull-right">
									<a data-ng-href="#/editCommunity/{{community.i}}" ><i style="color: cadetblue;" class="fa fa-2x fa-edit"></i></a>
								</div>
							</div>
						</div>
						<div class="col-lg-12 col-md-12 innerAll tm">
							<div class="tabbable tabs-below col-lg-7 col-md-7 ">
							  <ul class="nav nav-pills">
							    <li  class="col-lg-4 col-md-4" ng-class="{active: selectedTab == 1}">
							      <a ng-click="selectedTab = 1;"><i class="fa fa-comments-o"></i>  News Feed</a>
							    </li>
							    <li class="col-lg-4 col-md-4"  ng-class="{active: selectedTab == 2}">
							      <a  ng-click="selectedTab = 2;"><span><i class="fa fa-group"></i>  Members</span></a>
							    </li>
							    <li class="col-lg-3 col-md-3" ng-class="{active: selectedTab == 3}">
							      <a ng-click="selectedTab = 3;"><i class="fa fa-exclamation-circle"></i><span>  Context</span></a>
							    </li>
							  </ul>
               			   </div>
               					 
               				<div class="col-lg-5 col-md-5">
							    <div ng-show="community.isM == true && isLoadingEnabled==false && community.isO == false" class="pull-right border-right">
			   						<button class="btn btn-primary" style="background: #0099FF;" data-ng-click="leave_community(community.i)"><i class="fa fa-thumbs-down"></i> Leave</button>
			   					</div>
			   					
			   					<div ng-show="community.isM == false && community.isP == false && isLoadingEnabled==false && community.isO == false" class="pull-right border-right">
			   						<button class="btn btn-primary" style="background: #0099FF;" data-ng-click="send_join(community.i)"><i class="fa fa-user"></i> Join</button>
			   					</div>
			   					
			   					<div ng-show="community.isP == true && isLoadingEnabled==false" class="pull-right border-right">
			   						<button class="btn btn-primary" style="background: #0099FF;" disabled="disabled" ><i class="fa fa-user"></i> Pending Approval</button>
			   					</div>
			   					
			   					<div ng-show="isLoadingEnabled==true" class="pull-right border-right">
			       					<span class="label label-warning" style="font-size: 110% !important;padding: 9px 12px;">
			       						Loading .. 
			       					</span>
			       				</div>	
							     <div class="pull-right border-right">
               						<button class="btn btn-primary" data-toggle="modal" data-target="#myModal"><i class="fa fa-fw  fa-group"></i> Create New</button>
               					 </div>
               				</div>
							  
						<div class="col-lg-11 col-md-11 row tm">
							  <div class="tab-content" ng-show="selectedTab == 1">
							  	<div data-ng-include style="height: 100px;" data-src="'/assets/app/views/news-feed-section.html'"></div>
							  </div>
							  
							  <div class="tab-content" ng-show="selectedTab == 2" >
								  <div ng-controller="CommunityMembersWidgetController">
								    <div data-ng-include style="height: 100px;" data-src="'/assets/app/views/allFriendsSection.html'"></div>
								   </div>
							  </div>
							  
							  <div class="tab-content" ng-show="selectedTab == 3">
							    3. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
							    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
							    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
							    consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse
							    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
							    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.
							  </div>
							</div>
						</div>
						
							
						

       	    		 	</div>
       	    		 </div>
       	    		 <div class="col-lg-2 col-md-3">
              			<div class="row tm">
              				<div class="col-lg-12 col-md-12" ng-controller="CommunityMembersWidgetController">
								<div data-ng-include style="width: 100%;height: 50px;" data-src="'/assets/app/views/membersBar.html'"></div>
						</div>
              			</div>
              			<div class="row tm">
              				<div class="col-lg-12 col-md-12" ng-controller="UnknownCommunityWidgetController">
									<div data-ng-include style="width: 100%;height: 50px;" data-src="'/assets/app/views/communityWidget.html'"></div>
							</div>
              			</div>
       	    		 </div>
        	    </div>
             </div>
          </div>
      </div>
     
 
<div class="modal fade" id="myModal" data-backdrop="false">
  <div class="modal-dialog">
    <div class="modal-content">
      <form ng-controller = "CreateCommunityController"  name="formData" novalidate ng-submit="submit()"  method="post" enctype="multipart/form-data" >				              
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title" id="myModalLabel">Create Community</h4>
      </div>
      <div class="modal-body">
            <div class="row tm">
              <div class="col-md-12">
                <div class="row form-group">
               	
               	<div class="col-md-4">
                   	<label> Community Name: </label>
                   </div>
                   
                   <div class="col-md-8">
                   		<input type="text" class="form-control" placeholder="Community Name" validator="[required]" data-ng-model="formData.name" required >
                   		<label data-ng-show="uniqueName" class="label label-warning">Such name exists! Please Choose Another Name.</label>
                   </div>
                </div>
               </div>
             </div>
             
              <hr style="margin-top: 1%;">
             
             <div class="row tm">
             	  <div class="col-md-12">
                	<div class="row form-group">
               	<div class="col-md-4">
                  		<label> Community Type: </label>
                  	</div>
                  	
                  	<div class="col-md-8">
                  		
                  			<label style="width: 100%">
   								<input type="radio" data-ng-model="formData.communityType" id="optionsRadios1" value="OPEN" >
   								Open
  							</label>
  							<div class="fsm fwn fcg" style="margin-left: 10%;">Request for Join directly granted, without approval.</div>
  							<label>
   								<input type="radio" data-ng-model="formData.communityType" id="optionsRadios2" value="CLOSE" >
   								Closed
  							</label>
  							<div class="fsm fwn fcg"  style="margin-left: 10%;">Admin must approve the request.</div>
                  	</div>
               </div>
             </div>
          </div>
          
           <hr style="margin-top: 1%;">
             
           <div class="row tm">
           	  <div class="col-md-12">
              	<div class="row form-group">
             			<div class="col-md-4">
                			<label> Community Icon: </label>
                		</div>
                	
                		<div class="col-md-8">
                			<li class="col-md-12 dropdown">
                 			<div class="form-control dropdown-toggle">
                 				<img class="pull-left media-object" data-ng-src={{icon_chosen}} width="25">
                 				<div class="media-body">
						       		<p class="margin-none pull-right">{{icon_text}}</p>
						    	</div>
	   							<div data-ng-if="!isChosen" data-ng-init="isChosen=false">
	   								Please select icon
	   							</div>
 							</div>
                  		<ul class="dropdown-menu chat media-list" style="left:2%; width: 96%;">
							<li class="media" data-ng-repeat="icon in IconsToSelects" style="margin-top: 1%;">
						        <a href="" data-ng-click="select_icon(icon.url, icon.name)">
						        	<img class="pull-left media-object" data-ng-src="{{icon.url}}" alt="50x50" width="25" >
						        	<input type="hidden" data-ng-model="formData.iconName" >
									<div class="media-body">
						            	<p class="margin-none pull-right">{{icon.name}}</p>
						        	</div>							        	
						        </a>
							</li>
				      	</ul>
				      </li>
                		</div>
                	</div>
             </div>
           </div>
          
           <hr style="margin-top: 1%;">
             
             <div class="row tm">
             	<div class="col-md-12">
                <div class="row form-group">
               	
               	<div class="col-md-4">
                   	<label> Description: </label>
                   </div>
                   
                   <div class="col-md-8">
                   	<textarea  class="form-control" placeholder="Community Description" validator="[required]" data-ng-model="formData.description" required >
               		 </textarea>
                   </div>
                </div>
               </div>
             </div>
             
              <hr style="margin-top: 1%;">
             
             <div class="row tm">
             	<div class="col-md-12">
                <div class="row form-group">
               	
               	<div class="col-md-4">
                   	<label> Cover Photo: </label>
                   </div>
                   
                   <div class="col-md-8">
                   	<input type="file" name="cover-photo"  ng-file-select="onFileSelect($files)"/>
                   	<input type="hidden" data-ng-model="formData.photo" validator="[required]" />
                   </div>
                </div>
               </div>
             </div>
                
             
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <button ng-disabled="formData.$pristine || formData.$dirty && formData.$invalid" type="submit" class="btn btn-primary"  >
				<span class="glyphicon glyphicon-ok"></span>
				{{submitBtn}}
			</button>
      </div>
      </form>
    </div>
  </div>
</div>

</body>
 <style>
.nav.nav-pills a {
	background: #ffffff;
	color: #fff;
}
</style>


